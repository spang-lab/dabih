import{r as ce,R as de,P as fe,M as Nt,g as At,j as x,c as ae,I as ze}from"./index-D81WwACb.js";import{S as Bt}from"./Spinner-Br-E1HIG.js";import{a as St}from"./Transition-D4OxtElp.js";import{q as Pt,z as Tt}from"./dialog-YppJ8AFh.js";function _e(){return _e=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])}return r},_e.apply(this,arguments)}function xt(r,o){if(r==null)return{};var i=It(r,o),n,e;if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);for(e=0;e<t.length;e++)n=t[e],!(o.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(i[n]=r[n])}return i}function It(r,o){if(r==null)return{};var i={},n=Object.keys(r),e,t;for(t=0;t<n.length;t++)e=n[t],!(o.indexOf(e)>=0)&&(i[e]=r[e]);return i}var Fe=ce.forwardRef(function(r,o){var i=r.color,n=i===void 0?"currentColor":i,e=r.size,t=e===void 0?24:e,s=xt(r,["color","size"]);return de.createElement("svg",_e({ref:o,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),de.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),de.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),de.createElement("rect",{x:"6",y:"14",width:"12",height:"8"}))});Fe.propTypes={color:fe.string,size:fe.oneOfType([fe.string,fe.number])};Fe.displayName="Printer";var ge={exports:{}},Mt=ge.exports,Ke;function Lt(){return Ke||(Ke=1,function(r,o){(function(i,n){r.exports=n(Nt())})(typeof self<"u"?self:Mt,function(i){return function(){var n={155:function(u){u.exports=i}},e={};function t(u){var c=e[u];if(c!==void 0)return c.exports;var h=e[u]={exports:{}};return n[u](h,h.exports,t),h.exports}t.d=function(u,c){for(var h in c)t.o(c,h)&&!t.o(u,h)&&Object.defineProperty(u,h,{enumerable:!0,get:c[h]})},t.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},t.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var s={};t.r(s),t.d(s,{useReactToPrint:function(){return j}});var l=t(155);function a({level:u="error",messages:c,suppressErrors:h=!1}){h||(u==="error"?console.error(c):u==="warning"?console.warn(c):console.debug(c))}function d(u,c){if(c||!u){const h=document.getElementById("printWindow");h&&document.body.removeChild(h)}}function m(u){return u instanceof Error?u:new Error("Unknown Error")}function w(u,c){const{documentTitle:h,onAfterPrint:b,onPrintError:I,preserveAfterPrint:p,print:R,suppressErrors:E}=c;setTimeout(()=>{var f,N;if(u.contentWindow){let A=function(){b?.(),d(p)};if(u.contentWindow.focus(),R)R(u).then(A).catch(v=>{I?I("print",m(v)):a({messages:["An error was thrown by the specified `print` function"],suppressErrors:E})});else{if(u.contentWindow.print){const v=(N=(f=u.contentDocument)===null||f===void 0?void 0:f.title)!==null&&N!==void 0?N:"",C=u.ownerDocument.title;h&&(u.ownerDocument.title=h,u.contentDocument&&(u.contentDocument.title=h)),u.contentWindow.print(),h&&(u.ownerDocument.title=C,u.contentDocument&&(u.contentDocument.title=v))}else a({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:E});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(v=>{var C,S;return((S=(C=navigator.userAgent)!==null&&C!==void 0?C:navigator.vendor)!==null&&S!==void 0?S:"opera"in window&&window.opera).match(v)})?setTimeout(A,500):A()}}else a({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:E})},500)}function y(u){const c=[],h=document.createTreeWalker(u,NodeFilter.SHOW_ELEMENT,null);let b=h.nextNode();for(;b;)c.push(b),b=h.nextNode();return c}function g(u,c,h){const b=y(u),I=y(c);if(b.length===I.length)for(let p=0;p<b.length;p++){const R=b[p],E=I[p],f=R.shadowRoot;if(f!==null){const N=E.attachShadow({mode:f.mode});N.innerHTML=f.innerHTML,g(f,N,h)}}else a({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",u,c],suppressErrors:h})}const B=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function P(u,c,h,b){var I,p,R,E,f;const{contentNode:N,clonedContentNode:A,clonedImgNodes:v,clonedVideoNodes:C,numResourcesToLoad:S,originalCanvasNodes:z}=h,{bodyClass:V,fonts:J,ignoreGlobalStyles:oe,pageStyle:ee,nonce:K,suppressErrors:k,copyShadowRoots:Q}=b;u.onload=null;const D=(I=u.contentDocument)!==null&&I!==void 0?I:(p=u.contentWindow)===null||p===void 0?void 0:p.document;if(D){const W=D.body.appendChild(A);Q&&g(N,W,!!k),J&&(!((R=u.contentDocument)===null||R===void 0)&&R.fonts&&(!((E=u.contentWindow)===null||E===void 0)&&E.FontFace)?J.forEach(M=>{const T=new FontFace(M.family,M.source,{weight:M.weight,style:M.style});u.contentDocument.fonts.add(T),T.loaded.then(()=>{c(T)}).catch(U=>{c(T,["Failed loading the font:",T,"Load error:",m(U)])})}):(J.forEach(M=>{c(M)}),a({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:k})));const Y=ee??B,$=D.createElement("style");K&&($.setAttribute("nonce",K),D.head.setAttribute("nonce",K)),$.appendChild(D.createTextNode(Y)),D.head.appendChild($),V&&D.body.classList.add(...V.split(" "));const q=D.querySelectorAll("canvas");for(let M=0;M<z.length;++M){const T=z[M],U=q[M];if(U===void 0){a({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",T],suppressErrors:k});continue}const L=U.getContext("2d");L&&L.drawImage(T,0,0)}for(let M=0;M<v.length;M++){const T=v[M],U=T.getAttribute("src");if(U){const L=new Image;L.onload=()=>{c(T)},L.onerror=(F,O,ne,H,X)=>{c(T,["Error loading <img>",T,"Error",X])},L.src=U}else c(T,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',T])}for(let M=0;M<C.length;M++){const T=C[M];T.preload="auto";const U=T.getAttribute("poster");if(U){const L=new Image;L.onload=()=>{c(T)},L.onerror=(F,O,ne,H,X)=>{c(T,["Error loading video poster",U,"for video",T,"Error:",X])},L.src=U}else T.readyState>=2?c(T):T.src?(T.onloadeddata=()=>{c(T)},T.onerror=(L,F,O,ne,H)=>{c(T,["Error loading video",T,"Error",H])},T.onstalled=()=>{c(T,["Loading video stalled, skipping",T])}):c(T,["Error loading video, `src` is empty",T])}const _="select",G=N.querySelectorAll(_),te=D.querySelectorAll(_);for(let M=0;M<G.length;M++)te[M].value=G[M].value;if(!oe){const M=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let T=0,U=M.length;T<U;++T){const L=M[T];if(L.tagName.toLowerCase()==="style"){const F=D.createElement(L.tagName),O=L.sheet;if(O){let ne="";try{const H=O.cssRules.length;for(let X=0;X<H;++X)typeof O.cssRules[X].cssText=="string"&&(ne+=`${O.cssRules[X].cssText}\r
`)}catch(H){a({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",L,`Original error: ${m(H).message}`],level:"warning"})}F.setAttribute("id",`react-to-print-${T}`),K&&F.setAttribute("nonce",K),F.appendChild(D.createTextNode(ne)),D.head.appendChild(F)}}else if(L.getAttribute("href"))if(L.hasAttribute("disabled"))a({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",L],level:"warning"}),c(L);else{const F=D.createElement(L.tagName);for(let O=0,ne=L.attributes.length;O<ne;++O){const H=L.attributes[O];H&&F.setAttribute(H.nodeName,(f=H.nodeValue)!==null&&f!==void 0?f:"")}F.onload=()=>{c(F)},F.onerror=(O,ne,H,X,Rt)=>{c(F,["Failed to load",F,"Error:",Rt])},K&&F.setAttribute("nonce",K),D.head.appendChild(F)}else a({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",L],level:"warning"}),c(L)}}}S===0&&w(u,b)}function j({bodyClass:u,contentRef:c,copyShadowRoots:h,documentTitle:b,fonts:I,ignoreGlobalStyles:p,nonce:R,onAfterPrint:E,onBeforePrint:f,onPrintError:N,pageStyle:A,preserveAfterPrint:v,print:C,suppressErrors:S}){return(0,l.useCallback)(z=>{function V(){const J={bodyClass:u,contentRef:c,copyShadowRoots:h,documentTitle:b,fonts:I,ignoreGlobalStyles:p,nonce:R,onAfterPrint:E,onPrintError:N,pageStyle:A,preserveAfterPrint:v,print:C,suppressErrors:S},oe=function(){const k=document.createElement("iframe");return k.width=`${document.documentElement.clientWidth}px`,k.height=`${document.documentElement.clientHeight}px`,k.style.position="absolute",k.style.top=`-${document.documentElement.clientHeight+100}px`,k.style.left=`-${document.documentElement.clientWidth+100}px`,k.id="printWindow",k.srcdoc="<!DOCTYPE html>",k}(),ee=function(k,Q){const{contentRef:D,fonts:W,ignoreGlobalStyles:Y,suppressErrors:$}=Q,q=function({contentRef:U,optionalContent:L,suppressErrors:F}){return L&&typeof L=="function"?(U&&a({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),L()):U?U.current:void a({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:F})}({contentRef:D,optionalContent:k,suppressErrors:$});if(!q)return;const _=q.cloneNode(!0),G=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),te=_.querySelectorAll("img"),M=_.querySelectorAll("video"),T=W?W.length:0;return{contentNode:q,clonedContentNode:_,clonedImgNodes:te,clonedVideoNodes:M,numResourcesToLoad:(Y?0:G.length)+te.length+M.length+T,originalCanvasNodes:q.querySelectorAll("canvas")}}(z,J);if(!ee)return void a({messages:["There is nothing to print"],suppressErrors:S});const K=function(k,Q,D){const{suppressErrors:W}=k,Y=[],$=[];return function(q,_){Y.includes(q)?a({level:"debug",messages:["Tried to mark a resource that has already been handled",q],suppressErrors:W}):(_?(a({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',..._],suppressErrors:W}),$.push(q)):Y.push(q),Y.length+$.length===Q&&w(D,k))}}(J,ee.numResourcesToLoad,oe);(function(k,Q,D,W){k.onload=()=>{P(k,Q,D,W)},document.body.appendChild(k)})(oe,K,ee,J)}d(v,!0),f?f().then(()=>{V()}).catch(J=>{N?.("onBeforePrint",m(J))}):V()},[u,c,h,b,I,p,R,E,f,N,A,v,C,S])}return s}()})}(ge)),ge.exports}var kt=Lt(),le={},me,Oe;function Dt(){return Oe||(Oe=1,me=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),me}var pe={},re={},He;function ie(){if(He)return re;He=1;let r;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return re.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},re.getSymbolTotalCodewords=function(n){return o[n]},re.getBCHDigit=function(i){let n=0;for(;i!==0;)n++,i>>>=1;return n},re.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},re.isKanjiModeEnabled=function(){return typeof r<"u"},re.toSJIS=function(n){return r(n)},re}var we={},Ve;function Ue(){return Ve||(Ve=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+i)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,e){if(r.isValid(n))return n;try{return o(n)}catch{return e}}}(we)),we}var ye,Je;function jt(){if(Je)return ye;Je=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(o){const i=Math.floor(o/8);return(this.buffer[i]>>>7-o%8&1)===1},put:function(o,i){for(let n=0;n<i;n++)this.putBit((o>>>i-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),o&&(this.buffer[i]|=128>>>this.length%8),this.length++}},ye=r,ye}var be,We;function qt(){if(We)return be;We=1;function r(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return r.prototype.set=function(o,i,n,e){const t=o*this.size+i;this.data[t]=n,e&&(this.reservedBit[t]=!0)},r.prototype.get=function(o,i){return this.data[o*this.size+i]},r.prototype.xor=function(o,i,n){this.data[o*this.size+i]^=n},r.prototype.isReserved=function(o,i){return this.reservedBit[o*this.size+i]},be=r,be}var Ee={},Ye;function _t(){return Ye||(Ye=1,function(r){const o=ie().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,t=o(n),s=t===145?26:Math.ceil((t-13)/(2*e-2))*2,l=[t-7];for(let a=1;a<e-1;a++)l[a]=l[a-1]-s;return l.push(6),l.reverse()},r.getPositions=function(n){const e=[],t=r.getRowColCoords(n),s=t.length;for(let l=0;l<s;l++)for(let a=0;a<s;a++)l===0&&a===0||l===0&&a===s-1||l===s-1&&a===0||e.push([t[l],t[a]]);return e}}(Ee)),Ee}var Ce={},$e;function Ft(){if($e)return Ce;$e=1;const r=ie().getSymbolSize,o=7;return Ce.getPositions=function(n){const e=r(n);return[[0,0],[e-o,0],[0,e-o]]},Ce}var ve={},Ge;function Ut(){return Ge||(Ge=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};r.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){const t=e.size;let s=0,l=0,a=0,d=null,m=null;for(let w=0;w<t;w++){l=a=0,d=m=null;for(let y=0;y<t;y++){let g=e.get(w,y);g===d?l++:(l>=5&&(s+=o.N1+(l-5)),d=g,l=1),g=e.get(y,w),g===m?a++:(a>=5&&(s+=o.N1+(a-5)),m=g,a=1)}l>=5&&(s+=o.N1+(l-5)),a>=5&&(s+=o.N1+(a-5))}return s},r.getPenaltyN2=function(e){const t=e.size;let s=0;for(let l=0;l<t-1;l++)for(let a=0;a<t-1;a++){const d=e.get(l,a)+e.get(l,a+1)+e.get(l+1,a)+e.get(l+1,a+1);(d===4||d===0)&&s++}return s*o.N2},r.getPenaltyN3=function(e){const t=e.size;let s=0,l=0,a=0;for(let d=0;d<t;d++){l=a=0;for(let m=0;m<t;m++)l=l<<1&2047|e.get(d,m),m>=10&&(l===1488||l===93)&&s++,a=a<<1&2047|e.get(m,d),m>=10&&(a===1488||a===93)&&s++}return s*o.N3},r.getPenaltyN4=function(e){let t=0;const s=e.data.length;for(let a=0;a<s;a++)t+=e.data[a];return Math.abs(Math.ceil(t*100/s/5)-10)*o.N4};function i(n,e,t){switch(n){case r.Patterns.PATTERN000:return(e+t)%2===0;case r.Patterns.PATTERN001:return e%2===0;case r.Patterns.PATTERN010:return t%3===0;case r.Patterns.PATTERN011:return(e+t)%3===0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case r.Patterns.PATTERN101:return e*t%2+e*t%3===0;case r.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case r.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(e,t){const s=t.size;for(let l=0;l<s;l++)for(let a=0;a<s;a++)t.isReserved(a,l)||t.xor(a,l,i(e,a,l))},r.getBestMask=function(e,t){const s=Object.keys(r.Patterns).length;let l=0,a=1/0;for(let d=0;d<s;d++){t(d),r.applyMask(d,e);const m=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(d,e),m<a&&(a=m,l=d)}return l}}(ve)),ve}var he={},Qe;function bt(){if(Qe)return he;Qe=1;const r=Ue(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return he.getBlocksCount=function(e,t){switch(t){case r.L:return o[(e-1)*4+0];case r.M:return o[(e-1)*4+1];case r.Q:return o[(e-1)*4+2];case r.H:return o[(e-1)*4+3];default:return}},he.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[(e-1)*4+0];case r.M:return i[(e-1)*4+1];case r.Q:return i[(e-1)*4+2];case r.H:return i[(e-1)*4+3];default:return}},he}var Re={},ue={},Ze;function zt(){if(Ze)return ue;Ze=1;const r=new Uint8Array(512),o=new Uint8Array(256);return function(){let n=1;for(let e=0;e<255;e++)r[e]=n,o[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)r[e]=r[e-255]}(),ue.log=function(n){if(n<1)throw new Error("log("+n+")");return o[n]},ue.exp=function(n){return r[n]},ue.mul=function(n,e){return n===0||e===0?0:r[o[n]+o[e]]},ue}var Xe;function Kt(){return Xe||(Xe=1,function(r){const o=zt();r.mul=function(n,e){const t=new Uint8Array(n.length+e.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<e.length;l++)t[s+l]^=o.mul(n[s],e[l]);return t},r.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){const s=t[0];for(let a=0;a<e.length;a++)t[a]^=o.mul(e[a],s);let l=0;for(;l<t.length&&t[l]===0;)l++;t=t.slice(l)}return t},r.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=r.mul(e,new Uint8Array([1,o.exp(t)]));return e}}(Re)),Re}var Ne,et;function Ot(){if(et)return Ne;et=1;const r=Kt();function o(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=r.mod(e,this.genPoly),s=this.degree-t.length;if(s>0){const l=new Uint8Array(this.degree);return l.set(t,s),l}return t},Ne=o,Ne}var Ae={},Be={},Se={},tt;function Et(){return tt||(tt=1,Se.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),Se}var Z={},nt;function Ct(){if(nt)return Z;nt=1;const r="[0-9]+",o="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;Z.KANJI=new RegExp(i,"g"),Z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Z.BYTE=new RegExp(n,"g"),Z.NUMERIC=new RegExp(r,"g"),Z.ALPHANUMERIC=new RegExp(o,"g");const e=new RegExp("^"+i+"$"),t=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Z.testKanji=function(a){return e.test(a)},Z.testNumeric=function(a){return t.test(a)},Z.testAlphanumeric=function(a){return s.test(a)},Z}var rt;function se(){return rt||(rt=1,function(r){const o=Et(),i=Ct();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,s){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?t.ccBits[0]:s<27?t.ccBits[1]:t.ccBits[2]},r.getBestModeForData=function(t){return i.testNumeric(t)?r.NUMERIC:i.testAlphanumeric(t)?r.ALPHANUMERIC:i.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}r.from=function(t,s){if(r.isValid(t))return t;try{return n(t)}catch{return s}}}(Be)),Be}var ot;function Ht(){return ot||(ot=1,function(r){const o=ie(),i=bt(),n=Ue(),e=se(),t=Et(),s=7973,l=o.getBCHDigit(s);function a(y,g,B){for(let P=1;P<=40;P++)if(g<=r.getCapacity(P,B,y))return P}function d(y,g){return e.getCharCountIndicator(y,g)+4}function m(y,g){let B=0;return y.forEach(function(P){const j=d(P.mode,g);B+=j+P.getBitsLength()}),B}function w(y,g){for(let B=1;B<=40;B++)if(m(y,B)<=r.getCapacity(B,g,e.MIXED))return B}r.from=function(g,B){return t.isValid(g)?parseInt(g,10):B},r.getCapacity=function(g,B,P){if(!t.isValid(g))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=e.BYTE);const j=o.getSymbolTotalCodewords(g),u=i.getTotalCodewordsCount(g,B),c=(j-u)*8;if(P===e.MIXED)return c;const h=c-d(P,g);switch(P){case e.NUMERIC:return Math.floor(h/10*3);case e.ALPHANUMERIC:return Math.floor(h/11*2);case e.KANJI:return Math.floor(h/13);case e.BYTE:default:return Math.floor(h/8)}},r.getBestVersionForData=function(g,B){let P;const j=n.from(B,n.M);if(Array.isArray(g)){if(g.length>1)return w(g,j);if(g.length===0)return 1;P=g[0]}else P=g;return a(P.mode,P.getLength(),j)},r.getEncodedBits=function(g){if(!t.isValid(g)||g<7)throw new Error("Invalid QR Code version");let B=g<<12;for(;o.getBCHDigit(B)-l>=0;)B^=s<<o.getBCHDigit(B)-l;return g<<12|B}}(Ae)),Ae}var Pe={},it;function Vt(){if(it)return Pe;it=1;const r=ie(),o=1335,i=21522,n=r.getBCHDigit(o);return Pe.getEncodedBits=function(t,s){const l=t.bit<<3|s;let a=l<<10;for(;r.getBCHDigit(a)-n>=0;)a^=o<<r.getBCHDigit(a)-n;return(l<<10|a)^i},Pe}var Te={},xe,st;function Jt(){if(st)return xe;st=1;const r=se();function o(i){this.mode=r.NUMERIC,this.data=i.toString()}return o.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let e,t,s;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),s=parseInt(t,10),n.put(s,10);const l=this.data.length-e;l>0&&(t=this.data.substr(e),s=parseInt(t,10),n.put(s,l*3+1))},xe=o,xe}var Ie,at;function Wt(){if(at)return Ie;at=1;const r=se(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(n){this.mode=r.ALPHANUMERIC,this.data=n}return i.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let s=o.indexOf(this.data[t])*45;s+=o.indexOf(this.data[t+1]),e.put(s,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},Ie=i,Ie}var Me,lt;function Yt(){if(lt)return Me;lt=1;const r=se();function o(i){this.mode=r.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return o.getBitsLength=function(n){return n*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){for(let n=0,e=this.data.length;n<e;n++)i.put(this.data[n],8)},Me=o,Me}var Le,ut;function $t(){if(ut)return Le;ut=1;const r=se(),o=ie();function i(n){this.mode=r.KANJI,this.data=n}return i.getBitsLength=function(e){return e*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=o.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}},Le=i,Le}var ke={exports:{}},ct;function Gt(){return ct||(ct=1,function(r){var o={single_source_shortest_paths:function(i,n,e){var t={},s={};s[n]=0;var l=o.PriorityQueue.make();l.push(n,0);for(var a,d,m,w,y,g,B,P,j;!l.empty();){a=l.pop(),d=a.value,w=a.cost,y=i[d]||{};for(m in y)y.hasOwnProperty(m)&&(g=y[m],B=w+g,P=s[m],j=typeof s[m]>"u",(j||P>B)&&(s[m]=B,l.push(m,B),t[m]=d))}if(typeof e<"u"&&typeof s[e]>"u"){var u=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(u)}return t},extract_shortest_path_from_predecessor_list:function(i,n){for(var e=[],t=n;t;)e.push(t),i[t],t=i[t];return e.reverse(),e},find_path:function(i,n,e){var t=o.single_source_shortest_paths(i,n,e);return o.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(i){var n=o.PriorityQueue,e={},t;i=i||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=i.sorter||n.default_sorter,e},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){var e={value:i,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=o}(ke)),ke.exports}var dt;function Qt(){return dt||(dt=1,function(r){const o=se(),i=Jt(),n=Wt(),e=Yt(),t=$t(),s=Ct(),l=ie(),a=Gt();function d(u){return unescape(encodeURIComponent(u)).length}function m(u,c,h){const b=[];let I;for(;(I=u.exec(h))!==null;)b.push({data:I[0],index:I.index,mode:c,length:I[0].length});return b}function w(u){const c=m(s.NUMERIC,o.NUMERIC,u),h=m(s.ALPHANUMERIC,o.ALPHANUMERIC,u);let b,I;return l.isKanjiModeEnabled()?(b=m(s.BYTE,o.BYTE,u),I=m(s.KANJI,o.KANJI,u)):(b=m(s.BYTE_KANJI,o.BYTE,u),I=[]),c.concat(h,b,I).sort(function(R,E){return R.index-E.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function y(u,c){switch(c){case o.NUMERIC:return i.getBitsLength(u);case o.ALPHANUMERIC:return n.getBitsLength(u);case o.KANJI:return t.getBitsLength(u);case o.BYTE:return e.getBitsLength(u)}}function g(u){return u.reduce(function(c,h){const b=c.length-1>=0?c[c.length-1]:null;return b&&b.mode===h.mode?(c[c.length-1].data+=h.data,c):(c.push(h),c)},[])}function B(u){const c=[];for(let h=0;h<u.length;h++){const b=u[h];switch(b.mode){case o.NUMERIC:c.push([b,{data:b.data,mode:o.ALPHANUMERIC,length:b.length},{data:b.data,mode:o.BYTE,length:b.length}]);break;case o.ALPHANUMERIC:c.push([b,{data:b.data,mode:o.BYTE,length:b.length}]);break;case o.KANJI:c.push([b,{data:b.data,mode:o.BYTE,length:d(b.data)}]);break;case o.BYTE:c.push([{data:b.data,mode:o.BYTE,length:d(b.data)}])}}return c}function P(u,c){const h={},b={start:{}};let I=["start"];for(let p=0;p<u.length;p++){const R=u[p],E=[];for(let f=0;f<R.length;f++){const N=R[f],A=""+p+f;E.push(A),h[A]={node:N,lastCount:0},b[A]={};for(let v=0;v<I.length;v++){const C=I[v];h[C]&&h[C].node.mode===N.mode?(b[C][A]=y(h[C].lastCount+N.length,N.mode)-y(h[C].lastCount,N.mode),h[C].lastCount+=N.length):(h[C]&&(h[C].lastCount=N.length),b[C][A]=y(N.length,N.mode)+4+o.getCharCountIndicator(N.mode,c))}}I=E}for(let p=0;p<I.length;p++)b[I[p]].end=0;return{map:b,table:h}}function j(u,c){let h;const b=o.getBestModeForData(u);if(h=o.from(c,b),h!==o.BYTE&&h.bit<b.bit)throw new Error('"'+u+'" cannot be encoded with mode '+o.toString(h)+`.
 Suggested mode is: `+o.toString(b));switch(h===o.KANJI&&!l.isKanjiModeEnabled()&&(h=o.BYTE),h){case o.NUMERIC:return new i(u);case o.ALPHANUMERIC:return new n(u);case o.KANJI:return new t(u);case o.BYTE:return new e(u)}}r.fromArray=function(c){return c.reduce(function(h,b){return typeof b=="string"?h.push(j(b,null)):b.data&&h.push(j(b.data,b.mode)),h},[])},r.fromString=function(c,h){const b=w(c,l.isKanjiModeEnabled()),I=B(b),p=P(I,h),R=a.find_path(p.map,"start","end"),E=[];for(let f=1;f<R.length-1;f++)E.push(p.table[R[f]].node);return r.fromArray(g(E))},r.rawSplit=function(c){return r.fromArray(w(c,l.isKanjiModeEnabled()))}}(Te)),Te}var ft;function Zt(){if(ft)return pe;ft=1;const r=ie(),o=Ue(),i=jt(),n=qt(),e=_t(),t=Ft(),s=Ut(),l=bt(),a=Ot(),d=Ht(),m=Vt(),w=se(),y=Qt();function g(p,R){const E=p.size,f=t.getPositions(R);for(let N=0;N<f.length;N++){const A=f[N][0],v=f[N][1];for(let C=-1;C<=7;C++)if(!(A+C<=-1||E<=A+C))for(let S=-1;S<=7;S++)v+S<=-1||E<=v+S||(C>=0&&C<=6&&(S===0||S===6)||S>=0&&S<=6&&(C===0||C===6)||C>=2&&C<=4&&S>=2&&S<=4?p.set(A+C,v+S,!0,!0):p.set(A+C,v+S,!1,!0))}}function B(p){const R=p.size;for(let E=8;E<R-8;E++){const f=E%2===0;p.set(E,6,f,!0),p.set(6,E,f,!0)}}function P(p,R){const E=e.getPositions(R);for(let f=0;f<E.length;f++){const N=E[f][0],A=E[f][1];for(let v=-2;v<=2;v++)for(let C=-2;C<=2;C++)v===-2||v===2||C===-2||C===2||v===0&&C===0?p.set(N+v,A+C,!0,!0):p.set(N+v,A+C,!1,!0)}}function j(p,R){const E=p.size,f=d.getEncodedBits(R);let N,A,v;for(let C=0;C<18;C++)N=Math.floor(C/3),A=C%3+E-8-3,v=(f>>C&1)===1,p.set(N,A,v,!0),p.set(A,N,v,!0)}function u(p,R,E){const f=p.size,N=m.getEncodedBits(R,E);let A,v;for(A=0;A<15;A++)v=(N>>A&1)===1,A<6?p.set(A,8,v,!0):A<8?p.set(A+1,8,v,!0):p.set(f-15+A,8,v,!0),A<8?p.set(8,f-A-1,v,!0):A<9?p.set(8,15-A-1+1,v,!0):p.set(8,15-A-1,v,!0);p.set(f-8,8,1,!0)}function c(p,R){const E=p.size;let f=-1,N=E-1,A=7,v=0;for(let C=E-1;C>0;C-=2)for(C===6&&C--;;){for(let S=0;S<2;S++)if(!p.isReserved(N,C-S)){let z=!1;v<R.length&&(z=(R[v]>>>A&1)===1),p.set(N,C-S,z),A--,A===-1&&(v++,A=7)}if(N+=f,N<0||E<=N){N-=f,f=-f;break}}}function h(p,R,E){const f=new i;E.forEach(function(S){f.put(S.mode.bit,4),f.put(S.getLength(),w.getCharCountIndicator(S.mode,p)),S.write(f)});const N=r.getSymbolTotalCodewords(p),A=l.getTotalCodewordsCount(p,R),v=(N-A)*8;for(f.getLengthInBits()+4<=v&&f.put(0,4);f.getLengthInBits()%8!==0;)f.putBit(0);const C=(v-f.getLengthInBits())/8;for(let S=0;S<C;S++)f.put(S%2?17:236,8);return b(f,p,R)}function b(p,R,E){const f=r.getSymbolTotalCodewords(R),N=l.getTotalCodewordsCount(R,E),A=f-N,v=l.getBlocksCount(R,E),C=f%v,S=v-C,z=Math.floor(f/v),V=Math.floor(A/v),J=V+1,oe=z-V,ee=new a(oe);let K=0;const k=new Array(v),Q=new Array(v);let D=0;const W=new Uint8Array(p.buffer);for(let G=0;G<v;G++){const te=G<S?V:J;k[G]=W.slice(K,K+te),Q[G]=ee.encode(k[G]),K+=te,D=Math.max(D,te)}const Y=new Uint8Array(f);let $=0,q,_;for(q=0;q<D;q++)for(_=0;_<v;_++)q<k[_].length&&(Y[$++]=k[_][q]);for(q=0;q<oe;q++)for(_=0;_<v;_++)Y[$++]=Q[_][q];return Y}function I(p,R,E,f){let N;if(Array.isArray(p))N=y.fromArray(p);else if(typeof p=="string"){let z=R;if(!z){const V=y.rawSplit(p);z=d.getBestVersionForData(V,E)}N=y.fromString(p,z||40)}else throw new Error("Invalid data");const A=d.getBestVersionForData(N,E);if(!A)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=A;else if(R<A)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+A+`.
`);const v=h(R,E,N),C=r.getSymbolSize(R),S=new n(C);return g(S,R),B(S),P(S,R),u(S,E,0),R>=7&&j(S,R),c(S,v),isNaN(f)&&(f=s.getBestMask(S,u.bind(null,S,E))),s.applyMask(f,S),u(S,E,f),{modules:S,version:R,errorCorrectionLevel:E,maskPattern:f,segments:N}}return pe.create=function(R,E){if(typeof R>"u"||R==="")throw new Error("No input text");let f=o.M,N,A;return typeof E<"u"&&(f=o.from(E.errorCorrectionLevel,o.M),N=d.from(E.version),A=s.from(E.maskPattern),E.toSJISFunc&&r.setToSJISFunction(E.toSJISFunc)),I(R,N,f,A)},pe}var De={},je={},ht;function vt(){return ht||(ht=1,function(r){function o(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:t,scale:t?4:s,margin:e,color:{dark:o(n.color.dark||"#000000ff"),light:o(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},r.getImageWidth=function(n,e){const t=r.getScale(n,e);return Math.floor((n+e.margin*2)*t)},r.qrToImageData=function(n,e,t){const s=e.modules.size,l=e.modules.data,a=r.getScale(s,t),d=Math.floor((s+t.margin*2)*a),m=t.margin*a,w=[t.color.light,t.color.dark];for(let y=0;y<d;y++)for(let g=0;g<d;g++){let B=(y*d+g)*4,P=t.color.light;if(y>=m&&g>=m&&y<d-m&&g<d-m){const j=Math.floor((y-m)/a),u=Math.floor((g-m)/a);P=w[l[j*s+u]?1:0]}n[B++]=P.r,n[B++]=P.g,n[B++]=P.b,n[B]=P.a}}}(je)),je}var gt;function Xt(){return gt||(gt=1,function(r){const o=vt();function i(e,t,s){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=s,t.width=s,t.style.height=s+"px",t.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(t,s,l){let a=l,d=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(d=n()),a=o.getOptions(a);const m=o.getImageWidth(t.modules.size,a),w=d.getContext("2d"),y=w.createImageData(m,m);return o.qrToImageData(y.data,t,a),i(w,d,m),w.putImageData(y,0,0),d},r.renderToDataURL=function(t,s,l){let a=l;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const d=r.render(t,s,a),m=a.type||"image/png",w=a.rendererOpts||{};return d.toDataURL(m,w.quality)}}(De)),De}var qe={},mt;function en(){if(mt)return qe;mt=1;const r=vt();function o(e,t){const s=e.a/255,l=t+'="'+e.hex+'"';return s<1?l+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':l}function i(e,t,s){let l=e+t;return typeof s<"u"&&(l+=" "+s),l}function n(e,t,s){let l="",a=0,d=!1,m=0;for(let w=0;w<e.length;w++){const y=Math.floor(w%t),g=Math.floor(w/t);!y&&!d&&(d=!0),e[w]?(m++,w>0&&y>0&&e[w-1]||(l+=d?i("M",y+s,.5+g+s):i("m",a,0),a=0,d=!1),y+1<t&&e[w+1]||(l+=i("h",m),m=0)):a++}return l}return qe.render=function(t,s,l){const a=r.getOptions(s),d=t.modules.size,m=t.modules.data,w=d+a.margin*2,y=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",g="<path "+o(a.color.dark,"stroke")+' d="'+n(m,d,a.margin)+'"/>',B='viewBox="0 0 '+w+" "+w+'"',j='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+B+' shape-rendering="crispEdges">'+y+g+`</svg>
`;return typeof l=="function"&&l(null,j),j},qe}var pt;function tn(){if(pt)return le;pt=1;const r=Dt(),o=Zt(),i=Xt(),n=en();function e(t,s,l,a,d){const m=[].slice.call(arguments,1),w=m.length,y=typeof m[w-1]=="function";if(!y&&!r())throw new Error("Callback required as last argument");if(y){if(w<2)throw new Error("Too few arguments provided");w===2?(d=l,l=s,s=a=void 0):w===3&&(s.getContext&&typeof d>"u"?(d=a,a=void 0):(d=a,a=l,l=s,s=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(l=s,s=a=void 0):w===2&&!s.getContext&&(a=l,l=s,s=void 0),new Promise(function(g,B){try{const P=o.create(l,a);g(t(P,s,a))}catch(P){B(P)}})}try{const g=o.create(l,a);d(null,t(g,s,a))}catch(g){d(g)}}return le.create=o.create,le.toCanvas=e.bind(null,i.render),le.toDataURL=e.bind(null,i.renderToDataURL),le.toString=e.bind(null,function(t,s,l){return n.render(t,l)}),le}var nn=tn();const rn=At(nn),wt=r=>{const o=parseInt(r.slice(1),16);return{r:o>>16,g:o>>8&255,b:o&255}},yt=(r,o)=>{const i="#145876",n="#ea580c",e=parseInt(r,16)/255,t=wt(i),s=wt(n),l=Math.round(t.r*e+s.r*(1-e)),a=Math.round(t.g*e+s.g*(1-e)),d=Math.round(t.b*e+s.b*(1-e)),m=`rgb(${l},${a},${d})`;return{v:r,color:m,colIdx:o}};function on({qrCode:r,hexData:o,ref:i}){const m=[];let w=0;for(;w<o.length;){let y;w<500||w>=1556?(y=o.slice(w,w+50).map((g,B)=>yt(g,B+w)),w+=50):(y=o.slice(w,w+22).map((g,B)=>yt(g,B+w)),w+=22),m.push({data:y,rowIdx:w})}return x.jsx("div",{ref:i,className:"p-4 mx-0 my-3 text-center border-2 rounded-sm border-blue",children:x.jsx("table",{className:"mx-auto font-semibold leading-none table-fixed text-xs",children:x.jsx("tbody",{children:m.map(y=>x.jsxs("tr",{children:[y.data.map(({v:g,colIdx:B,color:P})=>B===511?x.jsxs(ce.Fragment,{children:[x.jsxs("td",{rowSpan:48,colSpan:28,children:[x.jsx("img",{className:"mx-auto",src:r,width:600,height:600,alt:"Private Key QR Code"}),x.jsx("br",{}),x.jsxs("span",{className:"font-semibold text-blue text-lg",children:[" ","Dabih private key v1"," "]})]}),x.jsx("td",{style:{color:P},children:g})]},B):x.jsx("td",{style:{color:P},children:g},B)),x.jsx("td",{className:"invisible",children:"xxx"})]},y.rowIdx))})})})}function cn({show:r,onClose:o,onSubmit:i}){const[n,e]=ce.useState(null),t=ce.useRef(null),s=kt.useReactToPrint({pageStyle:"@page { size: auto; margin: 10mm } @media print { body { -webkit-print-color-adjust: exact; } }",contentRef:t}),l=()=>{e(null),o()};ce.useEffect(()=>{r&&(async()=>{const d=await ae.privateKey.generate(),m=await ae.privateKey.toPublicKey(d),w=await ae.privateKey.toJWK(m),y=await ae.privateKey.toPEM(d),g=new Blob([y],{type:"text/plain"}),B=URL.createObjectURL(g),P=await ae.privateKey.toHex(d),j=await ae.privateKey.toJSON(d),u=await rn.toDataURL(j,{errorCorrectionLevel:"M",width:600});e({privateKey:d,publicKey:w,hexData:P,qrCode:u,pemUrl:B,isSaved:!1})})().catch(d=>console.error(d))},[r]);const a=()=>{if(!n)return x.jsx("div",{className:"flex my-10 items-center justify-center h-32",children:x.jsx(Bt,{})});const{qrCode:d,hexData:m,pemUrl:w}=n;return x.jsxs("div",{children:[x.jsx(on,{qrCode:d,hexData:m,ref:t}),x.jsxs("p",{className:"text-2xl",children:[x.jsx("span",{className:"font-extrabold underline text-red",children:" Warning:"})," ","If you do not save this key you will"," ",x.jsx("span",{className:"font-extrabold underline text-red",children:"not be able to access your data"})," "]}),x.jsxs("div",{className:"flex flex-row items-center justify-center",children:[x.jsx("span",{className:"text-2xl",children:"Please"}),x.jsxs("button",{type:"button",className:"m-2 px-3 py-2 text-lg rounded-sm bg-blue text-white",onClick:()=>s(),children:[x.jsx(Fe,{className:"inline-block",size:30})," ","Print the key"]}),x.jsx("span",{className:"text-2xl",children:"and"}),x.jsxs("a",{href:d,download:"dabih_private_key_qrcode.png",className:"button px-3 m-2 py-2 text-lg text-white bg-blue rounded-sm",children:[x.jsx(ze,{className:"inline-block",size:30})," ","Download the QR Code"]}),x.jsx("span",{className:"text-2xl",children:"or"}),x.jsxs("a",{href:w,download:"dabih_private_key.pem",className:"button px-3 m-2 py-2 text-lg text-white bg-blue rounded-sm",onClick:()=>e({...n,isSaved:!0}),children:[x.jsx(ze,{className:"inline-block",size:30})," ","Download the Keyfile"]})]})]})};return x.jsx(St,{show:r,children:x.jsxs(Pt,{className:" w-full max-w-5xl p-6 overflow-hidden text-left align-middle bg-white shadow-xl transform rounded-2xl transition-all",children:[x.jsx(Tt,{as:"h2",className:"text-2xl font-extrabold text-gray-800 leading-6",children:"Generate a new keypair"}),x.jsx("div",{className:"mt-2",children:x.jsxs("p",{className:"text-sm text-gray-400",children:["You",x.jsx("span",{className:"font-semibold text-blue",children:" need "}),"to save your private key after generating it."]})}),a(),x.jsxs("div",{className:"text-end",children:[x.jsxs("button",{type:"button",className:`
            px-8 py-4 mx-2 mt-2 text-2xl rounded-xl bg-blue
            text-white
            disabled:opacity-50`,disabled:!n?.isSaved,onClick:()=>{i(n.publicKey),l()},children:["Upload this key to"," ",x.jsx("span",{className:"font-bold",children:"dabih"})]}),x.jsx("button",{type:"button",className:"mx-3 px-3 py-2 text-white bg-gray-400 rounded-md",onClick:l,children:"Cancel"})]})]})})}export{cn as C};
