import{r as d,R as x,P as c,b as i,j as e,X as f}from"./index-D81WwACb.js";import{S as y}from"./Spinner-Br-E1HIG.js";import{F as j}from"./folder-BHZ6CSSP.js";function p(){return p=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(r[t]=l[t])}return r},p.apply(this,arguments)}function g(r,o){if(r==null)return{};var l=v(r,o),t,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],!(o.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(l[t]=r[t])}return l}function v(r,o){if(r==null)return{};var l={},t=Object.keys(r),n,a;for(a=0;a<t.length;a++)n=t[a],!(o.indexOf(n)>=0)&&(l[n]=r[n]);return l}var h=d.forwardRef(function(r,o){var l=r.color,t=l===void 0?"currentColor":l,n=r.size,a=n===void 0?24:n,u=g(r,["color","size"]);return x.createElement("svg",p({ref:o,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),x.createElement("circle",{cx:"11",cy:"11",r:"8"}),x.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});h.propTypes={color:c.string,size:c.oneOfType([c.string,c.number])};h.displayName="Search";function S(){const[r,o]=d.useState(""),l=i(s=>s.parents),t=i(s=>s.searchStatus),n=i(s=>s.query),a=i(s=>s.fetchResults),u=i(s=>s.search),b=i(s=>s.list),m=l.at(0);return d.useEffect(()=>{if(t!=="loading")return;const s=setInterval(()=>{a().catch(console.error)},1e3);return()=>{clearInterval(s)}},[t,a]),d.useEffect(()=>{t==="complete"&&o("")},[t]),t==="idle"&&m?e.jsxs("div",{className:"flex flex-row border-b py-1 mb-3 text-gray-600 justify-between border-gray-200",children:[e.jsxs("div",{className:"flex rounded-sm flex-row px-3 text-xs font-bold text-blue items-center hover:bg-blue/10 cursor-pointer",children:[e.jsx(j,{className:"fill-blue/40 mr-1",size:26,strokeWidth:1}),m.name]}),e.jsx("div",{children:e.jsx("form",{onSubmit:s=>{u(r).catch(console.error),s.preventDefault()},children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"text",className:"border rounded-full px-2 py-1  border-gray-200",placeholder:"Search...",value:r,onChange:s=>o(s.target.value)}),e.jsx("button",{hidden:!r,onClick:()=>o(""),className:"absolute text-gray-500 right-4",type:"reset",children:e.jsx(f,{size:24})})]}),e.jsx("button",{type:"submit",className:"bg-blue text-white rounded-lg px-2 py-1 m-2 disabled:opacity-50",disabled:!r,children:e.jsx(h,{size:18})})]})})})]}):t==="loading"?e.jsxs("div",{className:"flex flex-row border-b pt-2 mb-3 text-gray-600 justify-between border-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-orange px-2 font-bold",children:"Searching"})," ","for",e.jsxs("span",{className:"text-blue font-mono px-2",children:['"',n,'"']})]}),e.jsx(y,{small:!0,loading:!0}),e.jsx("div",{children:e.jsxs("button",{className:"px-2 border border-gray-600 rounded-sm inline-flex items-center",type:"button",onClick:()=>{b(null).catch(console.error)},children:[e.jsx(f,{}),"Cancel"]})})]}):e.jsxs("div",{className:"flex flex-row border-b pt-2 mb-3 text-gray-600 justify-between border-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-orange px-2 font-bold",children:"Showing results"})," ","for search",e.jsxs("span",{className:"text-blue font-mono px-2",children:['"',n,'"']})]}),e.jsx("div",{children:e.jsxs("button",{className:"px-2 border border-gray-600 rounded-sm inline-flex items-center",type:"button",onClick:()=>{b(null).catch(console.error)},children:[e.jsx(f,{}),"Clear"]})})]})}export{S as default};
