import{r as d,R as a,P as o,u as h,c as p,j as e,L as c,K as x}from"./index-D81WwACb.js";function m(){return m=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n])}return t},m.apply(this,arguments)}function y(t,r){if(t==null)return{};var l=g(t,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function g(t,r){if(t==null)return{};var l={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(r.indexOf(s)>=0)&&(l[s]=t[s]);return l}var f=d.forwardRef(function(t,r){var l=t.color,n=l===void 0?"currentColor":l,s=t.size,i=s===void 0?24:s,u=y(t,["color","size"]);return a.createElement("svg",m({ref:r,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});f.propTypes={color:o.string,size:o.oneOfType([o.string,o.number])};f.displayName="XCircle";function v(){const{key:t,status:r,dropKey:l}=h(),[n,s]=d.useState(null);return d.useEffect(()=>{if(!t){s(null);return}p.privateKey.toHash(t).then(s).catch(console.error)},[t]),r==="loading"?null:r==="registered_without_key"?e.jsxs("div",{className:"flex grow flex-row flex-wrap items-center",children:[e.jsx("div",{className:"bg-red text-white font-extrabold rounded-full px-2 py-1 mx-3",children:r}),e.jsxs("div",{className:"text-lg inline-flex items-center mx-3",children:["Go to the",e.jsxs(c,{className:"text-blue hover:underline inline-flex items-center mx-2",to:"/key",children:[e.jsx(x,{className:"mr-1"}),"Key page"]}),"to create a new key."]})]}):r==="registered"?e.jsxs("div",{className:"flex grow flex-row flex-wrap items-center",children:[e.jsx("div",{className:"bg-gray-700 text-white font-extrabold rounded-full px-2 py-1 mx-3",children:"not loaded"}),e.jsxs("div",{className:"text-lg inline-flex items-center mx-3",children:["Go to the",e.jsxs(c,{className:"text-blue hover:underline inline-flex items-center mx-2",to:"/key",children:[e.jsx(x,{className:"mr-1"}),"Key page"]}),"to load a private key."]})]}):r==="registered_key_disabled"?e.jsxs("div",{className:"flex grow flex-row flex-wrap items-center",children:[e.jsx("div",{className:"bg-red text-white font-extrabold rounded-full px-2 py-1 mx-3",children:"disabled"}),e.jsxs("div",{className:"text-lg inline-flex items-center mx-3",children:["Please contact the",e.jsxs(c,{className:"text-blue hover:underline inline-flex items-center mx-2",to:"/docs/contact",children:[e.jsx(x,{className:"mr-1"}),"admin"]}),"to enable your key."]})]}):e.jsxs("div",{className:"flex grow flex-row flex-wrap justify-between items-center",children:[e.jsx("div",{className:"bg-green text-white font-extrabold rounded-full px-2 py-1 mx-3",children:"loaded"}),e.jsxs("div",{children:[e.jsx("span",{children:"Fingerprint:"})," ",e.jsx("span",{className:"text-xs font-mono",children:n})]}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Saved in browser local storage"}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"bg-blue text-white py-1 px-2 rounded-md inline-flex items-center",onClick:()=>l(),children:[e.jsx(f,{className:"mr-2"}),"Unload"]})})]})}export{v as default};
