import{r as g,n as oe,Q as at,S as dt,T as gt,q as mt,o as Xe,p as ht,R as De}from"./index-D81WwACb.js";import{l as Le}from"./portal-CrkO56Jr.js";import{r as fe}from"./index-BLzTb_JD.js";function pt(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function $n(e=pt){return g.useCallback((t,n)=>{if(typeof e=="string"){let o=e;return t?.[o]===n?.[o]}return e(t,n)},[e])}function wt(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function kn(e,t=!1){let[n,o]=g.useReducer(()=>({}),{}),r=g.useMemo(()=>wt(e),[e,n]);return oe(()=>{if(!e)return;let i=new ResizeObserver(o);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}var xt=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(xt||{});const Hn={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},vt=200;function In(e,{trigger:t,action:n,close:o,select:r}){let i=g.useRef(null);Le(e&&t!==null,"pointerdown",s=>{at(s?.target)&&t!=null&&t.contains(s.target)&&(i.current=new Date)}),Le(e&&t!==null,"pointerup",s=>{if(i.current===null||!dt(s.target))return;let l=n(s),f=new Date().getTime()-i.current.getTime();switch(i.current=null,l.kind){case 0:return;case 1:{f>vt&&(r(l.target),o());break}case 2:{o();break}}},{capture:!0})}function $e(e){return[e.screenX,e.screenY]}function Nn(){let e=g.useRef([-1,-1]);return{wasMoved(t){let n=$e(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=$e(t)}}}function ge(){return typeof window<"u"}function Q(e){return Ke(e)?(e.nodeName||"").toLowerCase():"#document"}function I(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function z(e){var t;return(t=(Ke(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ke(e){return ge()?e instanceof Node||e instanceof I(e).Node:!1}function $(e){return ge()?e instanceof Element||e instanceof I(e).Element:!1}function j(e){return ge()?e instanceof HTMLElement||e instanceof I(e).HTMLElement:!1}function ke(e){return!ge()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof I(e).ShadowRoot}function re(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=V(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function yt(e){return["table","td","th"].includes(Q(e))}function me(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Se(e){const t=Oe(),n=$(e)?V(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function bt(e){let t=q(e);for(;j(t)&&!J(t);){if(Se(t))return t;if(me(t))return null;t=q(t)}return null}function Oe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(e){return["html","body","#document"].includes(Q(e))}function V(e){return I(e).getComputedStyle(e)}function he(e){return $(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function q(e){if(Q(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ke(e)&&e.host||z(e);return ke(t)?t.host:t}function Ge(e){const t=q(e);return J(t)?e.ownerDocument?e.ownerDocument.body:e.body:j(t)&&re(t)?t:Ge(t)}function te(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Ge(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=I(r);if(i){const l=Ce(s);return t.concat(s,s.visualViewport||[],re(r)?r:[],l&&n?te(l):[])}return t.concat(r,te(r,[],n))}function Ce(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const X=Math.min,P=Math.max,ne=Math.round,le=Math.floor,_=e=>({x:e,y:e}),Ct={left:"right",right:"left",bottom:"top",top:"bottom"},At={start:"end",end:"start"};function He(e,t,n){return P(e,X(t,n))}function Z(e,t){return typeof e=="function"?e(t):e}function U(e){return e.split("-")[0]}function ie(e){return e.split("-")[1]}function Je(e){return e==="x"?"y":"x"}function Qe(e){return e==="y"?"height":"width"}function Y(e){return["top","bottom"].includes(U(e))?"y":"x"}function Ze(e){return Je(Y(e))}function Et(e,t,n){n===void 0&&(n=!1);const o=ie(e),r=Ze(e),i=Qe(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ue(s)),[s,ue(s)]}function St(e){const t=ue(e);return[Ae(e),t,Ae(t)]}function Ae(e){return e.replace(/start|end/g,t=>At[t])}function Ot(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:s;default:return[]}}function Tt(e,t,n,o){const r=ie(e);let i=Ot(U(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Ae)))),i}function ue(e){return e.replace(/left|right|bottom|top/g,t=>Ct[t])}function Ft(e){return{top:0,right:0,bottom:0,left:0,...e}}function Mt(e){return typeof e!="number"?Ft(e):{top:e,right:e,bottom:e,left:e}}function ae(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Ie(e,t,n){let{reference:o,floating:r}=e;const i=Y(t),s=Ze(t),l=Qe(s),f=U(t),c=i==="y",a=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,h=o[l]/2-r[l]/2;let u;switch(f){case"top":u={x:a,y:o.y-r.height};break;case"bottom":u={x:a,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:m};break;case"left":u={x:o.x-r.width,y:m};break;default:u={x:o.x,y:o.y}}switch(ie(t)){case"start":u[s]-=h*(n&&c?-1:1);break;case"end":u[s]+=h*(n&&c?-1:1);break}return u}const Pt=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:a,y:m}=Ie(c,o,f),h=o,u={},d=0;for(let p=0;p<l.length;p++){const{name:w,fn:v}=l[p],{x:y,y:x,data:b,reset:R}=await v({x:a,y:m,initialPlacement:o,placement:h,strategy:r,middlewareData:u,rects:c,platform:s,elements:{reference:e,floating:t}});a=y??a,m=x??m,u={...u,[w]:{...u[w],...b}},R&&d<=50&&(d++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):R.rects),{x:a,y:m}=Ie(c,h,f)),p=-1)}return{x:a,y:m,placement:h,strategy:r,middlewareData:u}};async function pe(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:f}=e,{boundary:c="clippingAncestors",rootBoundary:a="viewport",elementContext:m="floating",altBoundary:h=!1,padding:u=0}=Z(t,e),d=Mt(u),w=l[h?m==="floating"?"reference":"floating":m],v=ae(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:a,strategy:f})),y=m==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},R=ae(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:f}):y);return{top:(v.top-R.top+d.top)/b.y,bottom:(R.bottom-v.bottom+d.bottom)/b.y,left:(v.left-R.left+d.left)/b.x,right:(R.right-v.right+d.right)/b.x}}const Dt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:f,elements:c}=t,{mainAxis:a=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:p=!0,...w}=Z(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=U(r),y=Y(l),x=U(l)===l,b=await(f.isRTL==null?void 0:f.isRTL(c.floating)),R=h||(x||!p?[ue(l)]:St(l)),E=d!=="none";!h&&E&&R.push(...Tt(l,p,d,b));const S=[l,...R],D=await pe(t,w),N=[];let F=((o=i.flip)==null?void 0:o.overflows)||[];if(a&&N.push(D[v]),m){const H=Et(r,s,b);N.push(D[H[0]],D[H[1]])}if(F=[...F,{placement:r,overflows:N}],!N.every(H=>H<=0)){var T,k;const H=(((T=i.flip)==null?void 0:T.index)||0)+1,L=S[H];if(L){var M;const C=m==="alignment"?y!==Y(L):!1,A=((M=F[0])==null?void 0:M.overflows[0])>0;if(!C||A)return{data:{index:H,overflows:F},reset:{placement:L}}}let W=(k=F.filter(C=>C.overflows[0]<=0).sort((C,A)=>C.overflows[1]-A.overflows[1])[0])==null?void 0:k.placement;if(!W)switch(u){case"bestFit":{var B;const C=(B=F.filter(A=>{if(E){const O=Y(A.placement);return O===y||O==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(O=>O>0).reduce((O,se)=>O+se,0)]).sort((A,O)=>A[1]-O[1])[0])==null?void 0:B[0];C&&(W=C);break}case"initialPlacement":W=l;break}if(r!==W)return{reset:{placement:W}}}return{}}}};async function Lt(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=U(n),l=ie(n),f=Y(n)==="y",c=["left","top"].includes(s)?-1:1,a=i&&f?-1:1,m=Z(t,e);let{mainAxis:h,crossAxis:u,alignmentAxis:d}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof d=="number"&&(u=l==="end"?d*-1:d),f?{x:u*a,y:h*c}:{x:h*c,y:u*a}}const $t=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,f=await Lt(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+f.x,y:i+f.y,data:{...f,placement:s}}}}},kt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...f}=Z(e,t),c={x:n,y:o},a=await pe(t,f),m=Y(U(r)),h=Je(m);let u=c[h],d=c[m];if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=u+a[w],x=u-a[v];u=He(y,u,x)}if(s){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=d+a[w],x=d-a[v];d=He(y,d,x)}const p=l.fn({...t,[h]:u,[m]:d});return{...p,data:{x:p.x-n,y:p.y-o,enabled:{[h]:i,[m]:s}}}}}},Ht=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:s,elements:l}=t,{apply:f=()=>{},...c}=Z(e,t),a=await pe(t,c),m=U(r),h=ie(r),u=Y(r)==="y",{width:d,height:p}=i.floating;let w,v;m==="top"||m==="bottom"?(w=m,v=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,w=h==="end"?"top":"bottom");const y=p-a.top-a.bottom,x=d-a.left-a.right,b=X(p-a[w],y),R=X(d-a[v],x),E=!t.middlewareData.shift;let S=b,D=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=x),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(S=y),E&&!h){const F=P(a.left,0),T=P(a.right,0),k=P(a.top,0),M=P(a.bottom,0);u?D=d-2*(F!==0||T!==0?F+T:P(a.left,a.right)):S=p-2*(k!==0||M!==0?k+M:P(a.top,a.bottom))}await f({...t,availableWidth:D,availableHeight:S});const N=await s.getDimensions(l.floating);return d!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function et(e){const t=V(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=j(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=ne(n)!==i||ne(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function Te(e){return $(e)?e:e.contextElement}function G(e){const t=Te(e);if(!j(t))return _(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=et(t);let s=(i?ne(n.width):n.width)/o,l=(i?ne(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const It=_(0);function tt(e){const t=I(e);return!Oe()||!t.visualViewport?It:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Nt(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==I(e)?!1:t}function K(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=Te(e);let s=_(1);t&&(o?$(o)&&(s=G(o)):s=G(e));const l=Nt(i,n,o)?tt(i):_(0);let f=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,a=r.width/s.x,m=r.height/s.y;if(i){const h=I(i),u=o&&$(o)?I(o):o;let d=h,p=Ce(d);for(;p&&o&&u!==d;){const w=G(p),v=p.getBoundingClientRect(),y=V(p),x=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*w.x,b=v.top+(p.clientTop+parseFloat(y.paddingTop))*w.y;f*=w.x,c*=w.y,a*=w.x,m*=w.y,f+=x,c+=b,d=I(p),p=Ce(d)}}return ae({width:a,height:m,x:f,y:c})}function Fe(e,t){const n=he(e).scrollLeft;return t?t.left+n:K(z(e)).left+n}function nt(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(n?0:Fe(e,o)),i=o.top+t.scrollTop;return{x:r,y:i}}function Bt(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=z(o),l=t?me(t.floating):!1;if(o===s||l&&i)return n;let f={scrollLeft:0,scrollTop:0},c=_(1);const a=_(0),m=j(o);if((m||!m&&!i)&&((Q(o)!=="body"||re(s))&&(f=he(o)),j(o))){const u=K(o);c=G(o),a.x=u.x+o.clientLeft,a.y=u.y+o.clientTop}const h=s&&!m&&!i?nt(s,f,!0):_(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-f.scrollLeft*c.x+a.x+h.x,y:n.y*c.y-f.scrollTop*c.y+a.y+h.y}}function Wt(e){return Array.from(e.getClientRects())}function Vt(e){const t=z(e),n=he(e),o=e.ownerDocument.body,r=P(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=P(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Fe(e);const l=-n.scrollTop;return V(o).direction==="rtl"&&(s+=P(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function _t(e,t){const n=I(e),o=z(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,f=0;if(r){i=r.width,s=r.height;const c=Oe();(!c||c&&t==="fixed")&&(l=r.offsetLeft,f=r.offsetTop)}return{width:i,height:s,x:l,y:f}}function jt(e,t){const n=K(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=j(e)?G(e):_(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,f=r*i.x,c=o*i.y;return{width:s,height:l,x:f,y:c}}function Ne(e,t,n){let o;if(t==="viewport")o=_t(e,n);else if(t==="document")o=Vt(z(e));else if($(t))o=jt(t,n);else{const r=tt(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return ae(o)}function ot(e,t){const n=q(e);return n===t||!$(n)||J(n)?!1:V(n).position==="fixed"||ot(n,t)}function zt(e,t){const n=t.get(e);if(n)return n;let o=te(e,[],!1).filter(l=>$(l)&&Q(l)!=="body"),r=null;const i=V(e).position==="fixed";let s=i?q(e):e;for(;$(s)&&!J(s);){const l=V(s),f=Se(s);!f&&l.position==="fixed"&&(r=null),(i?!f&&!r:!f&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||re(s)&&!f&&ot(e,s))?o=o.filter(a=>a!==s):r=l,s=q(s)}return t.set(e,o),o}function Yt(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?me(t)?[]:zt(t,this._c):[].concat(n),o],l=s[0],f=s.reduce((c,a)=>{const m=Ne(t,a,r);return c.top=P(m.top,c.top),c.right=X(m.right,c.right),c.bottom=X(m.bottom,c.bottom),c.left=P(m.left,c.left),c},Ne(t,l,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function qt(e){const{width:t,height:n}=et(e);return{width:t,height:n}}function Ut(e,t,n){const o=j(t),r=z(t),i=n==="fixed",s=K(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const f=_(0);function c(){f.x=Fe(r)}if(o||!o&&!i)if((Q(t)!=="body"||re(r))&&(l=he(t)),o){const u=K(t,!0,i,t);f.x=u.x+t.clientLeft,f.y=u.y+t.clientTop}else r&&c();i&&!o&&r&&c();const a=r&&!o&&!i?nt(r,l):_(0),m=s.left+l.scrollLeft-f.x-a.x,h=s.top+l.scrollTop-f.y-a.y;return{x:m,y:h,width:s.width,height:s.height}}function xe(e){return V(e).position==="static"}function Be(e,t){if(!j(e)||V(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return z(e)===n&&(n=n.ownerDocument.body),n}function rt(e,t){const n=I(e);if(me(e))return n;if(!j(e)){let r=q(e);for(;r&&!J(r);){if($(r)&&!xe(r))return r;r=q(r)}return n}let o=Be(e,t);for(;o&&yt(o)&&xe(o);)o=Be(o,t);return o&&J(o)&&xe(o)&&!Se(o)?n:o||bt(e)||n}const Xt=async function(e){const t=this.getOffsetParent||rt,n=this.getDimensions,o=await n(e.floating);return{reference:Ut(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Kt(e){return V(e).direction==="rtl"}const Gt={convertOffsetParentRelativeRectToViewportRelativeRect:Bt,getDocumentElement:z,getClippingRect:Yt,getOffsetParent:rt,getElementRects:Xt,getClientRects:Wt,getDimensions:qt,getScale:G,isElement:$,isRTL:Kt};function it(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jt(e,t){let n=null,o;const r=z(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),i();const c=e.getBoundingClientRect(),{left:a,top:m,width:h,height:u}=c;if(l||t(),!h||!u)return;const d=le(m),p=le(r.clientWidth-(a+h)),w=le(r.clientHeight-(m+u)),v=le(a),x={rootMargin:-d+"px "+-p+"px "+-w+"px "+-v+"px",threshold:P(0,X(1,f))||1};let b=!0;function R(E){const S=E[0].intersectionRatio;if(S!==f){if(!b)return s();S?s(!1,S):o=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!it(c,e.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(R,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return s(!0),i}function Qt(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,c=Te(e),a=r||i?[...c?te(c):[],...te(t)]:[];a.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const m=c&&l?Jt(c,n):null;let h=-1,u=null;s&&(u=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(t)})),n()}),c&&!f&&u.observe(c),u.observe(t));let d,p=f?K(e):null;f&&w();function w(){const v=K(e);p&&!it(p,v)&&n(),p=v,d=requestAnimationFrame(w)}return n(),()=>{var v;a.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),m?.(),(v=u)==null||v.disconnect(),u=null,f&&cancelAnimationFrame(d)}}const ve=pe,Zt=$t,en=kt,tn=Dt,nn=Ht,on=(e,t,n)=>{const o=new Map,r={platform:Gt,...n},i={...r.platform,_c:o};return Pt(e,t,{...r,platform:i})};var ce=typeof document<"u"?g.useLayoutEffect:g.useEffect;function de(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!de(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!de(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function st(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function We(e,t){const n=st(e);return Math.round(t*n)/n}function ye(e){const t=g.useRef(e);return ce(()=>{t.current=e}),t}function rn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:f,open:c}=e,[a,m]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,u]=g.useState(o);de(h,o)||u(o);const[d,p]=g.useState(null),[w,v]=g.useState(null),y=g.useCallback(C=>{C!==E.current&&(E.current=C,p(C))},[]),x=g.useCallback(C=>{C!==S.current&&(S.current=C,v(C))},[]),b=i||d,R=s||w,E=g.useRef(null),S=g.useRef(null),D=g.useRef(a),N=f!=null,F=ye(f),T=ye(r),k=ye(c),M=g.useCallback(()=>{if(!E.current||!S.current)return;const C={placement:t,strategy:n,middleware:h};T.current&&(C.platform=T.current),on(E.current,S.current,C).then(A=>{const O={...A,isPositioned:k.current!==!1};B.current&&!de(D.current,O)&&(D.current=O,fe.flushSync(()=>{m(O)}))})},[h,t,n,T,k]);ce(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(C=>({...C,isPositioned:!1})))},[c]);const B=g.useRef(!1);ce(()=>(B.current=!0,()=>{B.current=!1}),[]),ce(()=>{if(b&&(E.current=b),R&&(S.current=R),b&&R){if(F.current)return F.current(b,R,M);M()}},[b,R,M,F,N]);const H=g.useMemo(()=>({reference:E,floating:S,setReference:y,setFloating:x}),[y,x]),L=g.useMemo(()=>({reference:b,floating:R}),[b,R]),W=g.useMemo(()=>{const C={position:n,left:0,top:0};if(!L.floating)return C;const A=We(L.floating,a.x),O=We(L.floating,a.y);return l?{...C,transform:"translate("+A+"px, "+O+"px)",...st(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:O}},[n,l,L.floating,a.x,a.y]);return g.useMemo(()=>({...a,update:M,refs:H,elements:L,floatingStyles:W}),[a,M,H,L,W])}const lt=(e,t)=>({...Zt(e),options:[e,t]}),sn=(e,t)=>({...en(e),options:[e,t]}),ln=(e,t)=>({...tn(e),options:[e,t]}),cn=(e,t)=>({...nn(e),options:[e,t]}),ct={...gt},fn=ct.useInsertionEffect,un=fn||(e=>e());function ft(e){const t=g.useRef(()=>{});return un(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Ee=typeof document<"u"?g.useLayoutEffect:g.useEffect;let Ve=!1,an=0;const _e=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+an++;function dn(){const[e,t]=g.useState(()=>Ve?_e():void 0);return Ee(()=>{e==null&&t(_e())},[]),g.useEffect(()=>{Ve=!0},[]),e}const gn=ct.useId,mn=gn||dn;function hn(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const pn=g.createContext(null),wn=g.createContext(null),xn=()=>{var e;return((e=g.useContext(pn))==null?void 0:e.id)||null},vn=()=>g.useContext(wn),yn="data-floating-ui-focusable";function bn(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=mn(),i=g.useRef({}),[s]=g.useState(()=>hn()),l=xn()!=null,[f,c]=g.useState(o.reference),a=ft((u,d,p)=>{i.current.openEvent=u?d:void 0,s.emit("openchange",{open:u,event:d,reason:p,nested:l}),n?.(u,d,p)}),m=g.useMemo(()=>({setPositionReference:c}),[]),h=g.useMemo(()=>({reference:f||o.reference||null,floating:o.floating||null,domReference:o.reference}),[f,o.reference,o.floating]);return g.useMemo(()=>({dataRef:i,open:t,onOpenChange:a,elements:h,events:s,floatingId:r,refs:m}),[t,a,h,s,r,m])}function Rn(e){e===void 0&&(e={});const{nodeId:t}=e,n=bn({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,s]=g.useState(null),[l,f]=g.useState(null),a=r?.domReference||i,m=g.useRef(null),h=vn();Ee(()=>{a&&(m.current=a)},[a]);const u=rn({...e,elements:{...r,...l&&{reference:l}}}),d=g.useCallback(x=>{const b=$(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;f(b),u.refs.setReference(b)},[u.refs]),p=g.useCallback(x=>{($(x)||x===null)&&(m.current=x,s(x)),($(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!$(x))&&u.refs.setReference(x)},[u.refs]),w=g.useMemo(()=>({...u.refs,setReference:p,setPositionReference:d,domReference:m}),[u.refs,p,d]),v=g.useMemo(()=>({...u.elements,domReference:a}),[u.elements,a]),y=g.useMemo(()=>({...u,...o,refs:w,elements:v,nodeId:t}),[u,w,v,t,o]);return Ee(()=>{o.dataRef.current.floatingContext=y;const x=h?.nodesRef.current.find(b=>b.id===t);x&&(x.context=y)}),g.useMemo(()=>({...u,context:y,refs:w,elements:v}),[u,w,v,y])}const je="active",ze="selected";function be(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[je]:s,[ze]:l,...f}=e;i=f}return{...n==="floating"&&{tabIndex:-1,[yn]:""},...i,...t.map(s=>{const l=s?s[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(f=>{let[c,a]=f;if(!(r&&[je,ze].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof a=="function"){var m;(m=o.get(c))==null||m.push(a),s[c]=function(){for(var h,u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return(h=o.get(c))==null?void 0:h.map(w=>w(...d)).find(w=>w!==void 0)}}}else s[c]=a}),s),{})}}function Cn(e){e===void 0&&(e=[]);const t=e.map(l=>l?.reference),n=e.map(l=>l?.floating),o=e.map(l=>l?.item),r=g.useCallback(l=>be(l,e,"reference"),t),i=g.useCallback(l=>be(l,e,"floating"),n),s=g.useCallback(l=>be(l,e,"item"),o);return g.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function Ye(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const An=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:f=0,scrollRef:c,...a}=Z(e,t),{rects:m,elements:{floating:h}}=t,u=n.current[s],d=c?.current||h,p=h.clientTop||d.clientTop,w=h.clientTop!==0,v=d.clientTop!==0,y=h===d;if(!u)return{};const x={...t,...await lt(-u.offsetTop-h.clientTop-m.reference.height/2-u.offsetHeight/2-i).fn(t)},b=await ve(Ye(x,d.scrollHeight+p+h.clientTop),a),R=await ve(x,{...a,elementContext:"reference"}),E=P(0,b.top),S=x.y+E,F=(d.scrollHeight>d.clientHeight?T=>T:ne)(P(0,d.scrollHeight+(w&&y||v?p*2:0)-E-P(0,b.bottom)));if(d.style.maxHeight=F+"px",d.scrollTop=E,r){const T=d.offsetHeight<u.offsetHeight*X(l,n.current.length)-1||R.top>=-f||R.bottom>=-f;fe.flushSync(()=>r(T))}return o&&(o.current=await ve(Ye({...x,y:S},d.offsetHeight+p+h.clientTop),a)),{y:S}}});function En(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=t,f=ft(l),c=g.useRef(!1),a=g.useRef(null),m=g.useRef(null);g.useEffect(()=>{if(!r)return;function u(p){if(p.ctrlKey||!d||i.current==null)return;const w=p.deltaY,v=i.current.top>=-.5,y=i.current.bottom>=-.5,x=d.scrollHeight-d.clientHeight,b=w<0?-1:1,R=w<0?"max":"min";d.scrollHeight<=d.clientHeight||(!v&&w>0||!y&&w<0?(p.preventDefault(),fe.flushSync(()=>{f(E=>E+Math[R](w,x*b))})):/firefox/i.test(Rt())&&(d.scrollTop+=w))}const d=s?.current||o.floating;if(n&&d)return d.addEventListener("wheel",u),requestAnimationFrame(()=>{a.current=d.scrollTop,i.current!=null&&(m.current={...i.current})}),()=>{a.current=null,m.current=null,d.removeEventListener("wheel",u)}},[r,n,o.floating,i,s,f]);const h=g.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=s?.current||o.floating;if(!(!i.current||!u||!c.current)){if(a.current!==null){const d=u.scrollTop-a.current;(i.current.bottom<-.5&&d<-1||i.current.top<-.5&&d>1)&&fe.flushSync(()=>f(p=>p+d))}requestAnimationFrame(()=>{a.current=u.scrollTop})}}}),[o.floating,f,i,s]);return g.useMemo(()=>r?{floating:h}:{},[r,h])}let ee=g.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});ee.displayName="FloatingContext";let Me=g.createContext(null);Me.displayName="PlacementContext";function Bn(e){return g.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Wn(){return g.useContext(ee).setReference}function Vn(){return g.useContext(ee).getReferenceProps}function _n(){let{getFloatingProps:e,slot:t}=g.useContext(ee);return g.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function jn(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=g.useContext(Me),n=g.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var s;return(s=i?.outerHTML)!=null?s:i})]);oe(()=>{t?.(n??null)},[t,n]);let o=g.useContext(ee);return g.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let qe=4;function zn({children:e,enabled:t=!0}){let[n,o]=g.useState(null),[r,i]=g.useState(0),s=g.useRef(null),[l,f]=g.useState(null);Sn(l);let c=t&&n!==null&&l!==null,{to:a="bottom",gap:m=0,offset:h=0,padding:u=0,inner:d}=On(n,l),[p,w="center"]=a.split(" ");oe(()=>{c&&i(0)},[c]);let{refs:v,floatingStyles:y,context:x}=Rn({open:c,placement:p==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${p}`:`${p}-${w}`,strategy:"absolute",transform:!1,middleware:[lt({mainAxis:p==="selection"?0:m,crossAxis:h}),sn({padding:u}),p!=="selection"&&ln({padding:u}),p==="selection"&&d?An({...d,padding:u,overflowRef:s,offset:r,minItemsVisible:qe,referenceOverflowThreshold:u,onFallbackChange(T){var k,M;if(!T)return;let B=x.elements.floating;if(!B)return;let H=parseFloat(getComputedStyle(B).scrollPaddingBottom)||0,L=Math.min(qe,B.childElementCount),W=0,C=0;for(let A of(M=(k=x.elements.floating)==null?void 0:k.childNodes)!=null?M:[])if(mt(A)){let O=A.offsetTop,se=O+A.clientHeight+H,we=B.scrollTop,Pe=we+B.clientHeight;if(O>=we&&se<=Pe)L--;else{C=Math.max(0,Math.min(se,Pe)-Math.max(O,we)),W=A.clientHeight;break}}L>=1&&i(A=>{let O=W*L-C+H;return A>=O?A:O})}}):null,cn({padding:u,apply({availableWidth:T,availableHeight:k,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${T}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${k}px)`})}})].filter(Boolean),whileElementsMounted:Qt}),[b=p,R=w]=x.placement.split("-");p==="selection"&&(b="selection");let E=g.useMemo(()=>({anchor:[b,R].filter(Boolean).join(" ")}),[b,R]),S=En(x,{overflowRef:s,onChange:i}),{getReferenceProps:D,getFloatingProps:N}=Cn([S]),F=Xe(T=>{f(T),v.setFloating(T)});return g.createElement(Me.Provider,{value:o},g.createElement(ee.Provider,{value:{setFloating:F,setReference:v.setReference,styles:y,getReferenceProps:D,getFloatingProps:N,slot:E}},e))}function Sn(e){oe(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function On(e,t){var n,o,r;let i=Re((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Re((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",t),l=Re((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:l}}function Re(e,t,n=void 0){let o=ht(),r=Xe((f,c)=>{if(f==null)return[n,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!c)return[n,null];let a=Ue(f,c);return[a,m=>{let h=ut(f);{let u=h.map(d=>window.getComputedStyle(c).getPropertyValue(d));o.requestAnimationFrame(function d(){o.nextFrame(d);let p=!1;for(let[v,y]of h.entries()){let x=window.getComputedStyle(c).getPropertyValue(y);if(u[v]!==x){u[v]=x,p=!0;break}}if(!p)return;let w=Ue(f,c);a!==w&&(m(w),a=w)})}return o.dispose}]}return[n,null]}),i=g.useMemo(()=>r(e,t)[0],[e,t]),[s=i,l]=g.useState();return oe(()=>{let[f,c]=r(e,t);if(l(f),!!c)return c(l)},[e,t]),s}function ut(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...ut(r)]:[o]}return[]}function Ue(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function Yn({children:e,freeze:t}){let n=Tn(t,e);return De.createElement(De.Fragment,null,n)}function Tn(e,t){let[n,o]=g.useState(t);return!e&&n!==t&&o(t),e?n:t}function Fn(e){throw new Error("Unexpected object: "+e)}var Mn=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Mn||{});function qn(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 1:{r===-1&&(r=n.length);for(let i=r-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 2:{for(let i=r+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return o}case 5:return null;default:Fn(e)}}export{zn as A,Wn as F,jn as R,_n as T,Yn as a,$n as b,Mn as c,kn as d,Vn as e,qn as f,Hn as g,In as k,Tn as l,Nn as u,Bn as y};
